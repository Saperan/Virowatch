<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virowatch</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@100;300;400;700&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        .kanit-thin {
          font-family: "Kanit", sans-serif;
          font-weight: 100;
          font-style: normal;
        }

        .kanit-extralight {
          font-family: "Kanit", sans-serif;
          font-weight: 200;
          font-style: normal;
        }

        .kanit-light {
          font-family: "Kanit", sans-serif;
          font-weight: 300;
          font-style: normal;
        }

        .kanit-regular {
          font-family: "Kanit", sans-serif;
          font-weight: 400;
          font-style: normal;
        }

        .kanit-medium {
          font-family: "Kanit", sans-serif;
          font-weight: 500;
          font-style: normal;
        }

        .kanit-semibold {
          font-family: "Kanit", sans-serif;
          font-weight: 600;
          font-style: normal;
        }

        .kanit-bold {
          font-family: "Kanit", sans-serif;
          font-weight: 700;
          font-style: normal;
        }

        .kanit-extrabold {
          font-family: "Kanit", sans-serif;
          font-weight: 800;
          font-style: normal;
        }

        .kanit-black {
          font-family: "Kanit", sans-serif;
          font-weight: 900;
          font-style: normal;
        }

        .kanit-thin-italic {
          font-family: "Kanit", sans-serif;
          font-weight: 100;
          font-style: italic;
        }

        .kanit-extralight-italic {
          font-family: "Kanit", sans-serif;
          font-weight: 200;
          font-style: italic;
        }

        .kanit-light-italic {
          font-family: "Kanit", sans-serif;
          font-weight: 300;
          font-style: italic;
        }

        .kanit-regular-italic {
          font-family: "Kanit", sans-serif;
          font-weight: 400;
          font-style: italic;
        }

        .kanit-medium-italic {
          font-family: "Kanit", sans-serif;
          font-weight: 500;
          font-style: italic;
        }

        .kanit-semibold-italic {
          font-family: "Kanit", sans-serif;
          font-weight: 600;
          font-style: italic;
        }

        .kanit-bold-italic {
          font-family: "Kanit", sans-serif;
          font-weight: 700;
          font-style: italic;
        }

        .kanit-extrabold-italic {
          font-family: "Kanit", sans-serif;
          font-weight: 800;
          font-style: italic;
        }
        .kanit-black-italic {
          font-family: "Kanit", sans-serif;
          font-weight: 900;
          font-style: italic;
        }
        body {
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: #eaeaea;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        .container {
            max-width: 90vw;
            margin: 20px auto;
            padding: 10px;
        }
        .movie-list-wrapper {
    overflow-x: auto; /* Horizontal scrolling */
    overflow-y: hidden; /* Prevent vertical scrolling */
    white-space: nowrap; /* Prevent line breaks */
    display: flex; /* Align items in a row */
    gap: 10px; /* Space between items */
    padding: 10px; /* Add padding */
    max-height: 180px; /* Constrain height */
    scroll-snap-type: x mandatory; /* Enable snapping to items */
}

.movie-list {
    display: flex; /* Keep the items aligned in a row */
    gap: 20px;
}

.movie-item-banner {
    position: relative; /* Needed for the <p> to position absolutely within this container */
    flex: 0 0 auto; /* Prevent shrinking and keep items scrollable horizontally */
    width: 400px;
    height: 150px;
    transition: transform 0.3s ease;
}

.movie-item {
    position: relative; /* Needed for the <p> to position absolutely within this container */
    flex: 0 0 auto; /* Prevent shrinking and keep items scrollable horizontally */
    width: 100px;
    height: 150px;
    transition: transform 0.3s ease;
}

.movie-list-wrapper::-webkit-scrollbar {
    height: 8px; /* Horizontal scrollbar height */
}

.movie-list-wrapper::-webkit-scrollbar-thumb {
    background: #666; /* Scrollbar thumb color */
    border-radius: 4px;
}

.movie-list-wrapper::-webkit-scrollbar-track {
    background: #1a1a1a; /* Scrollbar track background */
}
        .movie-item:hover {
            transform: scale(1.1);
        }

        .movie-item-banner:hover {
            transform: scale(1.1);
        }

        .movie-item-banner img {
            width: 100%;
            height: 100%;
            border-radius: 10%;
        }

        .movie-item img {
            width: 100%;
            height: 100%;
            border-radius: 10%;
        }

        .movie-item-banner p {
            position: absolute; /* Position the <p> relative to .movie-item */
                bottom: 0; /* Align text at the bottom of the movie item */
                left: 0;
                right: 0;
                margin: 0;
                padding: 2px;
                font-size: auto;
                font-family: "Kanit", sans-serif;
                font-weight: 300;
                color: #eaeaea; /* Text color */
                background: rgba(0, 0, 0, 0.7); /* Semi-transparent black background */
                text-align: center; /* Center the text */
                z-index: 2; /* Ensure it appears above other elements */
                border-bottom-left-radius: 10%; /* Optional: Match container's bottom corner rounding */
                border-bottom-right-radius: 10%; /* Optional: Match container's bottom corner rounding */
        }

        .movie-item p {
            position: absolute; /* Position the <p> relative to .movie-item */
                bottom: 0; /* Align text at the bottom of the movie item */
                left: 0;
                right: 0;
                margin: 0;
                padding: 2px;
                font-size: auto;
                font-family: "Kanit", sans-serif;
                font-weight: 300;
                color: #eaeaea; /* Text color */
                background: rgba(0, 0, 0, 0.7); /* Semi-transparent black background */
                text-align: center; /* Center the text */
                z-index: 2; /* Ensure it appears above other elements */
                border-bottom-left-radius: 10%; /* Optional: Match container's bottom corner rounding */
                border-bottom-right-radius: 10%; /* Optional: Match container's bottom corner rounding */
        }

        .search-box {
    margin-bottom: 20px;
    padding: 15px; /* Adds padding around the search box */
    border-radius: 10px; /* Rounds the corners */
    display: flex; /* Enables Flexbox for alignment */
    justify-content: center; /* Horizontally centers the input field */
    align-items: center; /* Vertically centers the input field */
    width: 100%; /* Ensures the search box spans the full width */
    box-sizing: border-box; /* Prevents padding from affecting width */
    font-family: "Kanit", sans-serif;
}

.search-box input[type="text"] {
    background-color: #444; /* Lighter color to differentiate from the search box */
    color: white; /* White text color for input */
    padding: 10px 15px; /* Adds padding inside the input field */
    border-radius: 5px; /* Rounds the corners */
    width: 80%; /* Adjusts the input box width to fit neatly */
    max-width: 600px; /* Ensures input field doesn't stretch too far */
    box-sizing: border-box; /* Ensures padding doesn't affect total width */
    font-size: 16px; /* Sets a comfortable font size */
    outline: none; /* Removes the default focus outline */
    font-family: "Kanit", sans-serif;
}


        .search-box input {
            padding: 10px;
            width: 80%;
            max-width: 300px;
            border: none;
            border-radius: 5px;
        }

        .episode-container {
            display: flex;
            max-width: 100%;
            margin-top: 20px;
            font-family: "Kanit", sans-serif;
        }

        .sidebar {
            flex: 0 0 200px;
            max-width: 20%;
            background: #2b2b2b;
            padding: 10px;
            border-radius: 5px;
        }

        .episode {
            cursor: pointer;
            padding: 8px;
            border-radius: 3px;
            margin-bottom: 5px;
            transition: 0.3s;
        }

        .episode:hover, .episode.active {
            background: #444;
        }

        .player {
            flex: 1;
            background: #000;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
        }

        iframe {
            width: 100%;
            height: 65vh;
            max-height: 600px;
            border: none;
            border-radius: 5px;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .button {
            display: inline-block;
            padding: 8px 15px;
            border-radius: 5px;
            background: #444;
            color: #eaeaea;
            text-decoration: none;
            text-align: center;
            transition: 0.3s;
            font-family: "Kanit", sans-serif;
        }

        .button:hover {
            background: #666;
        }

        #downloadContainer {
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;  /* Allows wrapping to the next line if buttons overflow */
    margin-top: 10px;
    width: 100%;  /* Ensures the download container spans the full width */
        }


        .controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;  /* Ensures wrapping when there are many buttons */
    margin-top: 20px;
    width: 100%; /* Ensures the controls container spans the full width */
        }

    </style>
</head>
<body>

<div class="container">
    <div>
        <center><h1 class="kanit-light">Virowatch</h1></center>
    </div>
    <div class="search-box">
        <input type="text" id="searchInput" placeholder="Search for a movie or show...">
    </div>

    <div class="movie-list-wrapper">
        <div class="movie-list" id="movieList">
            <div class="movie-item-banner" data-movie="banner1">
                <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fjohnno74.files.wordpress.com%2F2014%2F07%2Ffor-future-utube-clip.jpg&f=1&nofb=1&ipt=8ef51eb18841a46bca0c3e041933fe1d4179c16d7d73c185337ec563c3247297&ipo=images" alt="Truman Show">
                <p class="kanit-extralight">Category: Movie</p>
            </div>
            <div class="movie-item" data-movie="trumanshow">
                <img src="https://i.ibb.co/7RcR2MM/e5-EMJEQn-Wk-Wb8-G6s-TMk-N91qiq-Uz-831065533.jpg" alt="Truman Show">
                <p class="kanit-extralight">Truman Show</p>
            </div>
            <div class="movie-item" data-movie="fightclub">
                <img src="https://img.goldposter.com/2015/04/Fight-Club_poster_goldposter_com_93.jpg" alt="Fight Club">
                <p class="kanit-extralight">Fight Club</p>
            </div>
            <div class="movie-item" data-movie="batmantdk">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BMTMxNTMwODM0NF5BMl5BanBnXkFtZTcwODAyMTk2Mw@@._V1_.jpg&f=1&h=500" alt="BTDK">
                <p class="kanit-extralight">Batman The DK</p>
            </div>
            <div class="movie-item" data-movie="batmantdkr">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BMTk4ODQzNDY3Ml5BMl5BanBnXkFtZTcwODA0NTM4Nw@@._V1_.jpg&f=1&h=500" alt="BTDKR">
                <p class="kanit-extralight">Batman The DKR</p>
            </div>
            <div class="movie-item" data-movie="borat">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BMTk0MTQ3NDQ4Ml5BMl5BanBnXkFtZTcwOTQ3OTQzMw@@._V1_.jpg&f=1&h=500" alt="borat">
                <p class="kanit-extralight">Borat</p>
            </div>
            <div class="movie-item" data-movie="borat2">
                <img src="https://duckduckgo.com/i/37f1e1a9d2ed9d21.jpeg" alt="borat2">
                <p class="kanit-extralight">Borat 2</p>
            </div>
            <div class="movie-item" data-movie="deadpool">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BNzY3ZWU5NGQtOTViNC00ZWVmLTliNjAtNzViNzlkZWQ4YzQ4XkEyXkFqcGc@._V1_.jpg&f=1&h=500" alt="deadpool">
                <p class="kanit-extralight">Deadpool</p>
            </div>
            <div class="movie-item" data-movie="deadpool2">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BNGY3N2ZhYmMtYTlmYi00ZWIzLWJiZWMtMjgxMjljYTk3MDAwXkEyXkFqcGc@._V1_.jpg&f=1&h=500" alt="Fight Club">
                <p class="kanit-extralight">Deadpool 2</p>
            </div>
            <div class="movie-item" data-movie="deadpool3">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BZTk5ODY0MmQtMzA3Ni00NGY1LThiYzItZThiNjFiNDM4MTM3XkEyXkFqcGc@._V1_.jpg&f=1&h=500" alt="Fight Club">
                <p class="kanit-extralight">Deadpool And Wolverine</p>
            </div>
            <div class="movie-item" data-movie="taken">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BYTAxNTY2NjMtYjk5Yy00Nzg4LTkyMmItYmMzMDM2OWQ1ZGQ3XkEyXkFqcGc@._V1_.jpg&f=1&h=500" alt="Fight Club">
                <p class="kanit-extralight">Taken</p>
            </div>
            <div class="movie-item" data-movie="taken2">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BMTkwNTQ0ODExOV5BMl5BanBnXkFtZTcwNjU3NDQwOA@@._V1_.jpg&f=1&h=500" alt="Fight Club">
                <p class="kanit-extralight">Taken 2</p>
            </div>
            <div class="movie-item" data-movie="taken3">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BNjM5MDU3NTY0M15BMl5BanBnXkFtZTgwOTk2ODU2MzE@._V1_.jpg&f=1&h=500" alt="Fight Club">
                <p class="kanit-extralight">Taken 3</p>
            </div>
            <div class="movie-item" data-movie="lorax">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BMTU1MTAwMjk1NF5BMl5BanBnXkFtZTcwMDI5NDc4Ng@@._V1_.jpg&f=1&h=500" alt="Fight Club">
                <p class="kanit-extralight">The Lorax</p>
            </div>
            <div class="movie-item" data-movie="transformers12007">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BZjM3ZDA2YmItMzhiMi00ZGI3LTg3ZGQtOTk3Nzk0MDY0ZDZhXkEyXkFqcGc@._V1_.jpg&f=1&h=500" alt="Fight Club">
                <p class="kanit-extralight">Transformers (2007)</p>
            </div>
            <div class="movie-item" data-movie="transformers2rotf">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BNjk4OTczOTk0NF5BMl5BanBnXkFtZTcwNjQ0NzMzMw@@._V1_.jpg&f=1&h=500" alt="Fight Club">
                <p class="kanit-extralight">Transformers 2 - ROTF</p>
            </div>
            <div class="movie-item" data-movie="whiplash">
                <img src="https://external-content.duckduckgo.com/iu/?u=https://m.media-amazon.com/images/M/MV5BMmNkODhkYjctMDMyOC00ZTNjLTkwZTItM2ExMTAxMGU1ZGQ1XkEyXkFqcGc@._V1_.jpg&f=1&h=500" alt="Fight Club">
                <p class="kanit-extralight">Whiplash</p>
            </div>
            <div class="movie-item-banner" data-movie="banner2">
                <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fstatic1.colliderimages.com%2Fwordpress%2Fwp-content%2Fuploads%2F2020%2F10%2Fbest-tv-shows-to-binge-watch-social.png&f=1&nofb=1&ipt=c3a2246ec423cb762a27a73de87677c02a2e9a5744a3f629b646783c816126f6&ipo=images" alt="Fight Club">
                <p class="kanit-extralight">Category: Shows</p>
            </div>
            <div class="movie-item-banner" data-movie="banner3">
                <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fstatic1.colliderimages.com%2Fwordpress%2Fwp-content%2Fuploads%2F2023%2F06%2Fluffy-from-one-piece-goku-from-dragon-ball-z-and-saitama-from-one-punch-man.jpg&f=1&nofb=1&ipt=9884b84f3ade3c545c70a0d6c374c1088e77b275b3509291e452d8d64d97688c&ipo=images" alt="Fight Club">
                <p class="kanit-extralight">Category: Anime</p>
            </div>
            <div class="movie-item" data-movie="misskuroitsu">
                <img src="https://duckduckgo.com/i/6899415a20bff040.jpg" alt="Misskuro">
                <p class="kanit-extralight">Miss Kuroitsu From MDD</p>
            </div>
            <!-- Add more movie items here -->
        </div>
    </div>
    

    <div class="episode-container" id="episodeContainer">
        <div class="sidebar" id="episodeSidebar"></div>

        <div class="player">
            <iframe id="videoPlayer" src="" allowfullscreen></iframe>
            <div class="controls">
                <a href="#" class="button" id="prevEpisode">Previous Episode (broken)</a>
                <a href="#" class="button" id="nextEpisode">Next Episode (broken)</a>
                <a href="#" class="button" id="backToMenu">Back to Main Menu</a>
                <div id="downloadContainer"></div> <!-- This will hold the dynamic download buttons -->
            </div>
        </div>
    </div>
</div>

<script>
    const movieItems = document.querySelectorAll('.movie-item');
    const videoPlayer = document.getElementById('videoPlayer');
    const searchInput = document.getElementById('searchInput');
    const episodeContainer = document.getElementById('episodeContainer');
    const episodeSidebar = document.getElementById('episodeSidebar');
    const movieListWrapper = document.querySelector('.movie-list-wrapper'); // Select movie list wrapper
    const nextEpisodeButton = document.getElementById('nextEpisode');
    const prevEpisodeButton = document.getElementById('prevEpisode');
    const downloadContainer = document.getElementById('downloadContainer');

    movieListWrapper.addEventListener("mouseenter", () => {
        // Enable horizontal scrolling when the mouse enters the container
        movieListWrapper.addEventListener("wheel", handleWheel, { passive: false });
    });

    movieListWrapper.addEventListener("mouseleave", () => {
        // Disable horizontal scrolling when the mouse leaves the container
        movieListWrapper.removeEventListener("wheel", handleWheel);
    });

    function handleWheel(event) {
        event.preventDefault(); // Prevent vertical scrolling
        movieListWrapper.scrollLeft += event.deltaY; // Use deltaY to scroll horizontally
    }

    const movies = {
    trumanshow: {
        video: [
            'https://rumble.com/embed/v59iui1/?pub=3u4il9'
        ],
        downloads: [
            'https://example.com/download1.zip', // Download 1 link // Download 2 link
            // Add more downloads here
        ]
    },
    fightclub: {
        video: [
            'https://rumble.com/embed/v59iuxp/?pub=3u4il9'
        ],
        downloads: [
            'https://example.com/fightclub_download1.zip',
            // Add more downloads here
        ]
    },
    batmantdk: {
        video: [
            'https://rumble.com/embed/v5eof6l/?pub=3u4il9'
        ],
        downloads: [
            'https://buzzheavier.com/5macsyguydmg',
            'https://1fichier.com/?vbhxxdl947gzz7te2k13',
        ]
    },
    batmantdkr: {
        video: [
            'https://rumble.com/embed/v5vt2et/?pub=3u4il9'
        ],
        downloads: [
            'https://buzzheavier.com/ed65ifnkqjxw',
            'https://1fichier.com/?5te3bbzkt9in8gd5zklw',
        ]
    },
    borat: {
        video: [
            'https://rumble.com/embed/v59rvud/?pub=3u4il9'
        ],
        downloads: [
            'https://buzzheavier.com/xui2k2543nej',
            'https://1fichier.com/?mb332nrv65pwe69y5105',
        ]
    },
    borat2: {
        video: [
            'https://rumble.com/embed/v5f3fxh/?pub=3u4il9'
        ],
        downloads: [
            'https://buzzheavier.com/87rqlgx67msw',
            'https://1fichier.com/?s9nfsdpb2nztwac3jpeq',
        ]
    },


        // SHOWS ADD AFTER THIS



        // ANIME ADD AFTER THIS

        misskuroitsu: {
        video: [
            'https://rumble.com/embed/v5vs5me/?pub=3u4il9',
            'https://rumble.com/embed/v5vs5o2/?pub=3u4il9',
            'https://rumble.com/embed/v5vs5re/?pub=3u4il9',
            'https://rumble.com/embed/v5vs5wt/?pub=3u4il9',
            'https://rumble.com/embed/v5vs5y2/?pub=3u4il9',
            'https://rumble.com/embed/v5vs5zq/?pub=3u4il9',
            'https://rumble.com/embed/v5vs64q/?pub=3u4il9',
            'https://rumble.com/embed/v5vs68w/?pub=3u4il9',
            'https://rumble.com/embed/v5vs6a5/?pub=3u4il9',
            'https://rumble.com/embed/v5vs6cn/?pub=3u4il9',
            'https://rumble.com/embed/v5vs6fk/?pub=3u4il9',
            'https://rumble.com/embed/v5vs6hn/?pub=3u4il9'
        ],
        downloads: [
            'https://buzzheavier.com/meo93ma4hmsi',
            'https://1fichier.com/?9gr5hf4s51tsp8hm7hlu',
            // Add more downloads here
        ]
    },

};

let currentMovie = null;
let currentEpisode = 0;

movieItems.forEach(movie => {
        movie.addEventListener('click', () => {
            const selectedMovie = movie.dataset.movie;

            if (movies[selectedMovie]) {
                const movieData = movies[selectedMovie];
                currentEpisode = 0; // Reset index on new movie selection

                // Clear previous episodes and populate new ones
                episodeSidebar.innerHTML = '';
                movieData.video.forEach((videoUrl, index) => {
                    const episodeDiv = document.createElement('div');
                    episodeDiv.textContent = `Episode ${index + 1}`;
                    episodeDiv.classList.add('episode');
                    episodeDiv.dataset.episodeIndex = index;

                    episodeDiv.addEventListener('click', () => {
                        videoPlayer.src = videoUrl;
                        currentEpisode = index;

                        // Highlight the selected episode
                        document.querySelectorAll('.episode').forEach(ep => ep.classList.remove('active'));
                        episodeDiv.classList.add('active');
                    });

                    episodeSidebar.appendChild(episodeDiv);
                });

                // Automatically load the first episode
                if (movieData.video.length > 0) {
                    videoPlayer.src = movieData.video[0];
                    episodeSidebar.firstChild.classList.add('active');
                }

                // Populate download links
                downloadContainer.innerHTML = '';
                movieData.downloads.forEach(downloadLink => {
                    const downloadButton = document.createElement('a');
                    downloadButton.href = downloadLink;
                    downloadButton.classList.add('button');
                    downloadButton.textContent = 'Download';
                    downloadContainer.appendChild(downloadButton);
                });

                // Show the episode container
                episodeContainer.style.display = 'flex';
            }
        });
    });

    // Handle Next Episode Button
    nextEpisodeButton.addEventListener('click', () => {
        if (currentMovie && currentEpisode < movies[currentMovie].video.length - 1) {
            currentEpisode++;
            videoPlayer.src = movies[currentMovie].video[currentEpisode];

            // Update active episode
            document.querySelectorAll('.episode').forEach(ep => ep.classList.remove('active'));
            document.querySelectorAll('.episode')[currentEpisode].classList.add('active');
        }
    });

    // Handle Previous Episode Button
    prevEpisodeButton.addEventListener('click', () => {
        if (currentMovie && currentEpisode > 0) {
            currentEpisode--;
            videoPlayer.src = movies[currentMovie].video[currentEpisode];

            // Update active episode
            document.querySelectorAll('.episode').forEach(ep => ep.classList.remove('active'));
            document.querySelectorAll('.episode')[currentEpisode].classList.add('active');
        }
    });

// Handle Next Episode
nextEpisodeButton.addEventListener('click', () => {
    const selectedMovie = document.querySelector('.movie-item.active')?.dataset.movie;

    if (selectedMovie && movies[selectedMovie]) {
        const movieData = movies[selectedMovie];

        if (currentEpisodeIndex < movieData.video.length - 1) {
            currentEpisodeIndex++;
            videoPlayer.src = movieData.video[currentEpisodeIndex];
            updateActiveEpisodeUI(currentEpisodeIndex);
        }
    }
});

// Handle Previous Episode
prevEpisodeButton.addEventListener('click', () => {
    const selectedMovie = document.querySelector('.movie-item.active')?.dataset.movie;

    if (selectedMovie && movies[selectedMovie]) {
        const movieData = movies[selectedMovie];

        if (currentEpisodeIndex > 0) {
            currentEpisodeIndex--;
            videoPlayer.src = movieData.video[currentEpisodeIndex];
            updateActiveEpisodeUI(currentEpisodeIndex);
        }
    }
});



    function loadEpisode(index) {
        currentEpisode = index;
        videoPlayer.src = movies[currentMovie][index];
        document.querySelectorAll('.episode').forEach(e => e.classList.remove('active'));
        document.querySelector(`.episode[data-episode="${index}"]`).classList.add('active');
    }

    document.getElementById('prevEpisode').addEventListener('click', e => {
        e.preventDefault();
        if (currentEpisode > 0) loadEpisode(currentEpisode - 1);
    });

    document.getElementById('nextEpisode').addEventListener('click', e => {
        e.preventDefault();
        if (currentEpisode < movies[currentMovie].length - 1) loadEpisode(currentEpisode + 1);
    });

    document.getElementById('backToMenu').addEventListener('click', e => {
        e.preventDefault();
        window.location.href = 'https://virowatch.tiiny.site'; // Replace 'https://example.com' with your desired URL
    });

    searchInput.addEventListener('input', function() {
        const query = this.value.toLowerCase();

        // Loop through both movie-item and movie-item-banner
        const allMovieItems = document.querySelectorAll('.movie-item, .movie-item-banner');
        allMovieItems.forEach(item => {
            const title = item.querySelector('p') ? item.querySelector('p').textContent.toLowerCase() : '';
            item.style.display = title.includes(query) ? 'block' : 'none';
        });
    });
</script>

</body>
</html>
